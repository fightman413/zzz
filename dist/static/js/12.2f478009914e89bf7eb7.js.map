{"version":3,"sources":["webpack:///./src/views/adminDetailPage/action/addMusic.js","webpack:///src/views/adminDetailPage/addMusic.vue","webpack:///./src/views/adminDetailPage/addMusic.vue?fe44","webpack:///./src/views/adminDetailPage/addMusic.vue"],"names":["Action","musicCreate","params","PostContent","songs_name","singer","MusicCode","axios","post","REQUEST_URL","handleParams","then","result","promise_default","a","resolve","data","reject","Msg","type","MusicUpdate","paramsDetailGetSingle","musicDelete","musicGetList","dataFactory","songs_id","MusicParentParamID","MusicParentParamCode","MusicParentParam","song_file_url","song_image_url","uploadStatus","uploadList","ShowOnIndex","edit","adminDetailPage_addMusic","name","components","SubNavigationFrame","breadcrumbs","title","this","$route","query","paramsName","paramsModal","tableData","createModal","columns","width","key","align","render","toolColumnRender","createDetailRules","required","message","filter","uploadUrl","MusicFiles","uploadUrl1","MusicImage","flag","mounted","$store","commit","paramsShowHandler","methods","resetFormHandler","popModal","handleBeforeUploadNum","com","file","$props","maxSize","size","handleError","State","$Message","loading","content","duration","length","$refs","uploadFileRef","clearFiles","handleSuccess","res","fileList","console","log","splice","form","response","Address","handleFormatError","warning","error","handleMaxSize","h","_this","props","domProps","innerText","on","click","e","row","detailParentParam","id","Code","stopPropagation","deleteDetailHandler","_this2","_filter","objectCopy","i","addMusic","MusicGetList","catch","err","addDetailHandler","_this3","MusicCreate","updateDetailHandler","_this4","ID","_this5","$Modal","confirm","icon","okText","showCancel","onOk","success","remove","views_adminDetailPage_addMusic","_vm","_h","$createElement","_c","_self","attrs","breadcrumb","style","textAlign","marginTop","slot","$event","$router","push","_v","go","staticClass","margin-top","padding-top","span","marginBottom","on-visible-change","createForm","resetFields","model","value","callback","$$v","expression","ref","rules","label","prop","placeholder","$set","display","action","format","max-size","before-upload","on-success","on-format-error","on-error","on-exceeded-size","show-upload-list","paste","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"kKA4CeA,GA1CbC,YAFa,SAEAC,GACX,IAAIC,EAAcD,EAAOC,YACzB,OAAIA,EAAYC,YACZD,EAAYE,OACZF,EAAYG,UACTC,MAAMC,KAAKC,YAAYR,YAAaQ,YAAYC,aAAaR,IAASS,KAAK,SAAAC,GAAA,OAAUC,EAAAC,EAAQC,QAAQH,EAAOI,KAAKb,eADtFU,EAAAC,EAAQG,QAAQC,IAAK,WAAYC,KAAM,UAFtCN,EAAAC,EAAQG,QAAQC,IAAK,UAAWC,KAAM,WAO3EC,YAXa,SAWAlB,GACX,IAAIC,EAAcD,EAAOC,YACzB,OAAIA,EAAYC,YACZD,EAAYE,OACZF,EAAYG,UACTC,MAAMC,KAAKC,YAAYW,YAAaX,YAAYC,aAAaR,IAASS,KAAK,SAAAC,GAAA,OAAUC,EAAAC,EAAQC,QAAQH,EAAOI,KAAKb,eADtFU,EAAAC,EAAQG,QAAQC,IAAK,WAAYC,KAAM,UAFtCN,EAAAC,EAAQG,QAAQC,IAAK,UAAWC,KAAM,WAM3EE,sBAnBa,SAmBUnB,GACrB,OAAOK,MAAMC,KAAKC,YAAYY,sBAAuBZ,YAAYC,aAAaR,IAASS,KAAK,SAAAC,GAAA,OAAUC,EAAAC,EAAQC,QAAQH,EAAOI,KAAKb,gBAGpImB,YAvBa,SAuBApB,GACX,OAAOK,MAAMC,KAAKC,YAAYa,YAAab,YAAYC,aAAaR,IAASS,KAAK,SAAAC,GAAA,OAAUC,EAAAC,EAAQC,QAAQH,EAAOI,KAAKb,gBAG1HoB,aA3Ba,SA2BCrB,GACZ,OAAOK,MAAMC,KAAKC,YAAYc,aAAcd,YAAYC,aAAaR,IAASS,KAAK,SAAAC,GAAA,OAAUC,EAAAC,EAAQC,QAAQH,EAAOI,KAAKb,iBCiE7HqB,EAAA,SAAAtB,GACA,OAAAA,IACAI,UAAA,GACAF,WAAA,GACAC,OAAA,GACAoB,SAAA,GACAC,mBAAA,GACAC,qBAAA,GACAC,iBAAA,GACAC,cAAA,GACAC,eAAA,GACAC,aAAA,KACAC,cACAC,aAAA,EACAC,MAAA,IAGAC,GACAC,KAAA,WACAC,YACAC,qBAAA,GAEAtB,KALA,WAMA,OACAuB,cACAC,MAAAC,KAAAC,OAAAC,MAAAC,aAEAC,aAAA,EACAC,aACAC,YAAAvB,IACAwB,UACAR,MAAA,KAAArB,KAAA,QAAA8B,MAAA,MACAT,MAAA,KAAAU,IAAA,eACAV,MAAA,KAAAU,IAAA,WACAV,MAAA,KAAAW,MAAA,SAAAC,OAAAX,KAAAY,mBAEAC,mBACAlD,aAAAmD,UAAA,EAAAC,QAAA,UACAnD,SAAAkD,UAAA,EAAAC,QAAA,UACAlD,YAAAiD,UAAA,EAAAC,QAAA,YAEAC,QAGArD,WAAAqC,KAAArC,WACAC,OAAAoC,KAAApC,QAEAqD,UAAAjD,YAAAkD,WACAC,WAAAnD,YAAAoD,WACAC,KAAA,IAGAC,QAnCA,WAoCAtB,KAAAuB,OAAAC,OAAA,oBACAxB,KAAAyB,qBAEAC,SAEAC,iBAFA,WAGA3B,KAAAM,YAAAvB,IACAiB,KAAA4B,UAAA,GAGAC,sBAPA,SAOAC,EAAAC,GACA,OAAAD,EACAA,EAAAE,OAAAC,SAAAF,EAAAG,KAAA,KAAAJ,EAAAE,OAAAC,SAAAjC,KAAAmC,aAAA1D,IAAA,cAAA2D,OAAA,GAAAL,EAAA/B,KAAAM,YAAAf,aAAA,IAEAS,KAAAM,YAAAhB,aAAAU,KAAAqC,SAAAC,SAAAC,QAAA,gBAAAC,SAAA,SACAxC,KAAAM,YAAAf,WAAAkD,QACAzC,KAAA0C,MAAAC,cAAAC,gBALA5C,KAAAmC,aAAA1D,IAAA,WAAA2D,OAAA,GAAAL,EAAA/B,KAAAM,YAAAf,aAAA,IAQAsD,cAhBA,SAgBAC,EAAAf,EAAAgB,GAEA,GADAC,QAAAC,IAAAlB,GACA,GAAAe,EAAAV,MAGA,OADApC,KAAAmC,YAAAW,EAAAf,EAAAgB,GACAA,EAAAG,OAAAH,EAAAN,OAAA,KAMA,GAHAzC,KAAAM,YAAAhB,eACAU,KAAAM,YAAAhB,aAAA,KAEA,GAAAwD,EAAAV,MAEA,OADApC,KAAAmC,YAAAW,EAAAf,EAAAgB,GACAA,EAAAG,OAAAH,EAAAN,OAAA,KAEA,IAAAU,EAAAnD,KAAAM,YACA,GAAAN,KAAAqB,MACA2B,QAAAC,IAAA,OAEAE,EAAA/D,cAAA2C,EAAAqB,SAAA1F,YAAA2F,UAEAL,QAAAC,IAAA,OAEAE,EAAA9D,eAAA0C,EAAAqB,SAAA1F,YAAA2F,UAKAC,kBA5CA,SA4CAvB,EAAAgB,GACA/C,KAAAM,YAAAhB,eACAU,KAAAM,YAAAhB,aAAA,KACAU,KAAAqC,SAAAkB,QAAA,iBAGApB,YAlDA,SAkDAqB,EAAAzB,EAAAgB,GACA/C,KAAAM,YAAAhB,eACAU,KAAAM,YAAAhB,aAAA,KACAU,KAAAqC,SAAAkB,QAAAC,KAAA/E,KAAA,WAGAgF,cAxDA,SAwDA1B,GACA/B,KAAAM,YAAAhB,eACAU,KAAAM,YAAAhB,aAAA,KACAU,KAAAqC,SAAAkB,QAAA,wBAGA3C,iBA9DA,SA8DA8C,EAAAjG,GAAA,IAAAkG,EAAA3D,KACA,OAAA0D,EAAA,OACAA,EAAA,UACAE,OAAAlF,KAAA,QACAmF,UAAAC,UAAA,MACAC,IAAAC,MAAA,SAAAC,GACAN,EAAArD,YAAAvB,GACApB,WAAAF,EAAAyG,IAAAvG,WACAC,OAAAH,EAAAyG,IAAAtG,OACAC,UAAAJ,EAAAyG,IAAArG,UACAsB,iBAAA1B,EAAAyG,IAAAC,kBACAlF,mBAAA0E,EAAA1D,OAAAC,MAAAkE,GACAlF,qBAAAyE,EAAA1D,OAAAC,MAAAmE,KACA5E,MAAA,EACAT,SAAAvB,EAAAyG,IAAAlF,WAEA2E,EAAAvD,aAAA,EACA6D,EAAAK,kBACAL,EAAAK,sBAIAZ,EAAA,UACAE,OAAAlF,KAAA,QACAmF,UAAAC,UAAA,MACAC,IAAAC,MAAA,SAAAC,GACAN,EAAAY,oBAAA9G,EAAAyG,IAAAlF,UACAiF,EAAAK,yBAOA7C,kBAhGA,WAgGA,IAAA+C,EAAAxE,KACAyE,EAAAC,WAAA1E,KAAAgB,QACA,QAAA2D,KAAAF,EACAA,EAAAE,WAAAF,EAAAE,GAEMC,EAANC,cACAnH,aACAsD,OAAAyD,KAGAvG,KAAA,SAAA4E,GACA0B,EAAAnE,UAAAyC,EACAE,QAAAC,IAAAuB,EAAAnE,aAEAyE,MAAA,SAAAC,GACAP,EAAAnC,SAAAmB,MAAAuB,MAIAC,iBAnHA,WAmHA,IAAAC,EAAAjF,KAKM4E,EAANM,aACAxH,YAAAsC,KAAAM,cAEApC,KAAA,SAAA4E,GACAE,QAAAC,IAAAgC,EAAA3E,aACA2E,EAAA7E,aAAA,EACA6E,EAAAxD,sBAEAqD,MAAA,SAAAC,GACA/B,QAAAC,IAAA,SACAgC,EAAA5C,SAAAmB,MAAAuB,MAIAI,oBAtIA,WAsIA,IAAAC,EAAApF,KACM4E,EAANjG,aACAjB,YAAAsC,KAAAM,cAEApC,KAAA,SAAA4E,GACAsC,EAAAhF,aAAA,EACAgF,EAAA3D,sBAEAqD,MAAA,SAAAC,GACAK,EAAA/C,SAAAmB,MAAAuB,MAIAR,oBAnJA,SAmJAc,GAAA,IAAAC,EAAAtF,KACA,IAAAqF,EAAA,OAAArF,KAAAqC,SAAAkB,QAAA,kBACAvD,KAAAuF,OAAAC,SACAzF,MAAA,OACA0F,KAAA,UACAlD,QAAA,UACAmD,OAAA,KACAC,YAAA,EACArD,SAAA,EACAsD,KAAA,WAEUhB,EAAV/F,aACAnB,aACAsB,SAAAqG,KAEAnH,KAAA,SAAAC,GACAmH,EAAAjD,SAAAwD,QAAA,aACAP,EAAAC,OAAAO,SACAR,EAAA7D,sBAEAqD,MAAA,SAAAC,GACAO,EAAAC,OAAAO,SACAR,EAAAjD,SAAAmB,MAAAuB,WC3TegB,GADEpF,OAFjB,WAA0B,IAAAqF,EAAAhG,KAAaiG,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,wBAAkCE,OAAOtG,MAAAiG,EAAA/F,OAAAC,MAAAC,WAAAmG,WAAAN,EAAAlG,eAAkEqG,EAAA,OAAYI,OAAQC,UAAA,QAAAC,UAAA,WAAsCJ,OAASK,KAAA,cAAoBA,KAAA,eAAmBP,EAAA,UAAepC,IAAIC,MAAA,SAAA2C,GAAyB,OAAAX,EAAAY,QAAAC,MAAyBlH,KAAA,cAAkBqG,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAAX,EAAA,UAA4CpC,IAAIC,MAAA,SAAA2C,GAAyB,OAAAX,EAAAY,QAAAG,IAAA,OAA4Bf,EAAAc,GAAA,YAAAd,EAAAc,GAAA,KAAAX,EAAA,OAA2Ca,YAAA,qBAAAT,OAAyCU,aAAA,QAAAC,cAAA,QAA2Cb,OAASK,KAAA,WAAiBA,KAAA,YAAgBP,EAAA,OAAAA,EAAA,OAAsBE,OAAOc,KAAA,OAAYhB,EAAA,OAAYI,OAAQa,aAAA,WAAwBjB,EAAA,UAAeE,OAAO3H,KAAA,WAAiBqF,IAAKC,MAAA,SAAA2C,GAAyBX,EAAA5F,aAAA,MAAyB+F,EAAA,QAAaE,OAAO3H,KAAA,YAAiBsH,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAAX,EAAA,SAAuDE,OAAO9F,QAAAyF,EAAAzF,QAAAhC,KAAAyH,EAAA3F,aAA4C2F,EAAAc,GAAA,KAAAX,EAAA,SAA0BE,OAAOtG,MAAA,KAAAiG,EAAA/F,OAAAC,MAAAC,WAAAK,MAAA,OAAyDuD,IAAKsD,oBAAA,SAAAV,GAAqC,OAAAX,EAAAtD,MAAA4E,WAAAC,gBAA2CC,OAAQC,MAAAzB,EAAA,YAAA0B,SAAA,SAAAC,GAAiD3B,EAAA5F,YAAAuH,GAAoBC,WAAA,iBAA2BzB,EAAA,OAAAA,EAAA,QAAuB0B,IAAA,aAAAxB,OAAwBmB,MAAAxB,EAAA1F,YAAAwH,MAAA9B,EAAAnF,qBAAuDsF,EAAA,OAAAA,EAAA,OAAsBE,OAAOc,KAAA,QAAahB,EAAA,YAAiBa,YAAA,WAAAX,OAA8B0B,MAAA,QAAAC,KAAA,gBAAqC7B,EAAA,SAAcE,OAAO4B,YAAA,SAAsBT,OAAQC,MAAAzB,EAAA1F,YAAA,WAAAoH,SAAA,SAAAC,GAA4D3B,EAAAkC,KAAAlC,EAAA1F,YAAA,aAAAqH,IAA6CC,WAAA,6BAAsC,OAAA5B,EAAAc,GAAA,KAAAX,EAAA,OAAgCE,OAAOc,KAAA,QAAahB,EAAA,YAAiBa,YAAA,WAAAX,OAA8B0B,MAAA,MAAAC,KAAA,YAA+B7B,EAAA,SAAcE,OAAO4B,YAAA,SAAsBT,OAAQC,MAAAzB,EAAA1F,YAAA,OAAAoH,SAAA,SAAAC,GAAwD3B,EAAAkC,KAAAlC,EAAA1F,YAAA,SAAAqH,IAAyCC,WAAA,yBAAkC,OAAA5B,EAAAc,GAAA,KAAAX,EAAA,OAAgCE,OAAOc,KAAA,QAAahB,EAAA,YAAiBa,YAAA,WAAAX,OAA8B0B,MAAA,SAAe5B,EAAA,UAAe0B,IAAA,cAAAtB,OAA0B4B,QAAA,gBAAwB9B,OAAS+B,OAAApC,EAAA/E,UAAAoH,QAAA,OAAAC,WAAA,IAAAC,gBAAA,SAAAxG,GAA2F,OAAAiE,EAAAnE,sBAAAmE,EAAAtD,MAAA,YAAAX,IAAmEyG,aAAAxC,EAAAnD,cAAA4F,kBAAAzC,EAAA1C,kBAAAoF,WAAA1C,EAAA7D,YAAAwG,mBAAA3C,EAAAvC,cAAAmF,oBAAA,EAAAC,MAAA,MAA4K1C,EAAA,UAAeE,OAAOZ,KAAA,4BAAkC1B,IAAKC,MAAA,SAAA2C,GAAyBX,EAAA3E,KAAA,MAAa2E,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAAX,EAAA,OAAqDE,OAAOc,KAAA,QAAahB,EAAA,YAAiBa,YAAA,WAAAX,OAA8B0B,MAAA,MAAAC,KAAA,0BAA6C7B,EAAA,UAAe0B,IAAA,cAAAtB,OAA0B4B,QAAA,gBAAwB9B,OAAS+B,OAAApC,EAAA7E,WAAAkH,QAAA,0BAAAC,WAAA,IAAAC,gBAAA,SAAAxG,GAA+G,OAAAiE,EAAAnE,sBAAAmE,EAAAtD,MAAA,YAAAX,IAAmEyG,aAAAxC,EAAAnD,cAAA4F,kBAAAzC,EAAA1C,kBAAAoF,WAAA1C,EAAA7D,YAAAwG,mBAAA3C,EAAAvC,cAAAmF,oBAAA,EAAAC,MAAA,MAA4K1C,EAAA,UAAeE,OAAOZ,KAAA,4BAAkC1B,IAAKC,MAAA,SAAA2C,GAAyBX,EAAA3E,KAAA,MAAa2E,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAAX,EAAA,OAAqDE,OAAOc,KAAA,QAAahB,EAAA,YAAiBa,YAAA,WAAAX,OAA8B0B,MAAA,OAAAC,KAAA,eAAmC7B,EAAA,SAAcE,OAAO4B,YAAA,UAAuBT,OAAQC,MAAAzB,EAAA1F,YAAA,UAAAoH,SAAA,SAAAC,GAA2D3B,EAAAkC,KAAAlC,EAAA1F,YAAA,YAAAqH,IAA4CC,WAAA,4BAAqC,mBAAA5B,EAAAc,GAAA,KAAAX,EAAA,OAA4CE,OAAOK,KAAA,UAAgBA,KAAA,WAAeP,EAAA,UAAeE,OAAO3H,KAAA,WAAiBqF,IAAKC,MAAA,SAAA2C,GAAyBX,EAAA1F,YAAAb,KAAAuG,EAAAb,sBAAAa,EAAAhB,uBAA4EgB,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAX,EAAA,UAA0CpC,IAAIC,MAAA,SAAA2C,GAAyBX,EAAA5F,aAAA,MAAwB4F,EAAAc,GAAA,qBAE/2HgC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvJ,EACAqG,GATF,EAVA,SAAAmD,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/12.2f478009914e89bf7eb7.js","sourcesContent":["const Action = {\n  //添加参数\n  musicCreate (params) {\n    let PostContent = params.PostContent;\n    if(!PostContent.songs_name) return Promise.reject({Msg: '请输入参数名称', type: 'local'});\n    if(!PostContent.singer) return Promise.reject({Msg: '请输入参数名称', type: 'local'});\n    if(!PostContent.MusicCode) return Promise.reject({Msg: '请输入参数权限码', type: 'local'});\n    return axios.post(REQUEST_URL.musicCreate, REQUEST_URL.handleParams(params)).then(result => Promise.resolve(result.data.PostContent));\n  },\n\n  //更新参数\n  MusicUpdate (params) {\n    let PostContent = params.PostContent;\n    if(!PostContent.songs_name) return Promise.reject({Msg: '请输入参数名称', type: 'local'});\n    if(!PostContent.singer) return Promise.reject({Msg: '请输入参数名称', type: 'local'});\n    if(!PostContent.MusicCode) return Promise.reject({Msg: '请输入参数权限码', type: 'local'});\n    return axios.post(REQUEST_URL.MusicUpdate, REQUEST_URL.handleParams(params)).then(result => Promise.resolve(result.data.PostContent));\n  },\n  //获取单个参数\n  paramsDetailGetSingle (params) {\n    return axios.post(REQUEST_URL.paramsDetailGetSingle, REQUEST_URL.handleParams(params)).then(result => Promise.resolve(result.data.PostContent));\n  },\n  //删除参数\n  musicDelete (params) {\n    return axios.post(REQUEST_URL.musicDelete, REQUEST_URL.handleParams(params)).then(result => Promise.resolve(result.data.PostContent));\n  },\n  //获取参数列表\n  musicGetList (params) {\n    return axios.post(REQUEST_URL.musicGetList, REQUEST_URL.handleParams(params)).then(result => Promise.resolve(result.data.PostContent));\n  },\n  //添加参数\n  // SeedCreate(params) {\n  //   let PostContent = params.PostContent;\n  //   if(!PostContent.songs_name) return Promise.reject({Msg: '请输入参数名称', type: 'local'});\n  //   if(!PostContent.singer) return Promise.reject({Msg: '请输入参数名称', type: 'local'});\n  //   if(!PostContent.MusicCode) return Promise.reject({Msg: '请输入参数权限码', type: 'local'});\n  //   return axios.post(REQUEST_URL.SeedCreate, REQUEST_URL.handleParams(params)).then(result => Promise.resolve(result.data.PostContent));\n  // },\n  // //获取参数列表\n  // SeedGetList (params) {\n  //   return axios.post(REQUEST_URL.SeedGetList, REQUEST_URL.handleParams(params)).then(result => Promise.resolve(result.data.PostContent));\n  // },\n}\n\nexport default Action;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/adminDetailPage/action/addMusic.js","<template>\n    <sub-navigation-frame :title=\"$route.query.paramsName\" :breadcrumb=\"breadcrumbs\">\n      <div  slot=\"navigation\" :style=\"{textAlign:'right',marginTop:'-2.5rem'}\">\n        <Button @click=\"$router.push({name: 'Index'})\">返回主站</Button>\n        <Button @click=\"$router.go(-1)\">返回</Button>\n      </div>\n      <div class=\"sub-page-container\" :style=\"{'margin-top': '.5rem','padding-top':'1rem'}\" slot=\"content\">\n        <Row>\n          <Col span=\"8\">\n            <div :style=\"{marginBottom: '.7rem'}\">\n              <Button type=\"primary\" @click=\"paramsModal = true\" ><Icon type=\"md-add\"></Icon>添加音乐</Button>\n            </div>\n          </Col>\n        </Row>\n        <Table :columns=\"columns\" :data=\"tableData\"></Table>\n        <Modal\n          v-model=\"paramsModal\"\n          :title=\"'编辑' + $route.query.paramsName\"\n          width=600\n          @on-visible-change=\"$refs.createForm.resetFields()\">\n          <div>\n            <Form\n              ref=\"createForm\"\n              :model=\"createModal\"\n              :rules=\"createDetailRules\">\n              <Row>\n                <Col span=\"24\">\n                  <FormItem class=\"item-box\" label=\"歌曲名称：\" prop=\"songs_name\">\n                    <Input v-model=\"createModal.songs_name\" placeholder=\"请输入歌名\" />\n                  </FormItem>\n                </Col>\n                <Col span=\"24\">\n                  <FormItem class=\"item-box\" label=\"歌手：\" prop=\"singer\">\n                    <Input v-model=\"createModal.singer\" placeholder=\"请输入歌手\" />\n                  </FormItem>\n                </Col>\n                <Col span=\"24\">\n                  <FormItem class=\"item-box\" label=\"歌曲：\" >\n                    <Upload :action=\"uploadUrl\"\n                            ref=\"uploadmusic\"\n                            :format=\"['mp3']\"\n                            :max-size=\"100000\"\n                            :before-upload=\"file => handleBeforeUploadNum($refs['uploadmusic'],file)\"\n                            :on-success=\"handleSuccess\"\n                            :on-format-error=\"handleFormatError\"\n                            :on-error=\"handleError\"\n                            :on-exceeded-size=\"handleMaxSize\"\n                            :show-upload-list=\"true\"\n                            :style=\"{display: 'inline-block'}\"\n                            paste >\n                      <Button @click=\"flag=1\" icon=\"ios-cloud-upload-outline\">上传歌曲</Button>\n                    </Upload>\n                  </FormItem>\n                </Col>\n                <Col span=\"24\">\n                  <FormItem class=\"item-box\" label=\"配图：\" prop=\"ContractTemplateName\">\n                    <Upload :action=\"uploadUrl1\"\n                            ref=\"uploadimage\"\n                            :format=\"['jpg','png','jpeg','mp3']\"\n                            :max-size=\"100000\"\n                            :before-upload=\"file => handleBeforeUploadNum($refs['uploadimage'],file)\"\n                            :on-success=\"handleSuccess\"\n                            :on-format-error=\"handleFormatError\"\n                            :on-error=\"handleError\"\n                            :on-exceeded-size=\"handleMaxSize\"\n                            :show-upload-list=\"true\"\n                            :style=\"{display: 'inline-block'}\"\n                            paste >\n                      <Button icon=\"ios-cloud-upload-outline\" @click=\"flag=0\"  >上传配图</Button>\n                    </Upload>\n                  </FormItem>\n                </Col>\n                <Col span=\"24\">\n                  <FormItem class=\"item-box\" label=\"权限码：\" prop=\"MusicCode\">\n                    <Input v-model=\"createModal.MusicCode\" placeholder=\"请输入权限码\" />\n                  </FormItem>\n                </Col>\n              </Row>\n            </Form>\n          </div>\n          <div slot=\"footer\">\n            <Button type=\"primary\" @click=\"createModal.edit ? updateDetailHandler() : addDetailHandler()\">确定</Button>\n            <Button @click=\"paramsModal=false\">取消</Button>\n          </div>\n        </Modal>\n      </div>\n\n    </sub-navigation-frame>\n</template>\n\n<script>\n  import SubNavigationFrame from '../../components/SubNavigationFrame/SubNavigationFrame';\n  import Action from './action/addMusic';\n  const dataFactory = (params) => {\n    return params ? params : {\n      MusicCode: '',\n      songs_name:'',\n      singer:'',\n      songs_id:'',\n      MusicParentParamID: '',\n      MusicParentParamCode:'',\n      MusicParentParam: '',\n      song_file_url:'',\n      song_image_url:'',\n      uploadStatus: null,\n      uploadList: [],\n      ShowOnIndex: false,\n      edit: false\n    }\n  }\n    export default {\n        name: \"addMusic\",\n      components:{\n        SubNavigationFrame,\n      },\n      data(){\n          return{\n            breadcrumbs:[\n              {title: this.$route.query.paramsName,}\n            ],\n            paramsModal:false,\n            tableData:[],\n            createModal:dataFactory(),\n            columns:[\n              {title: '序号', type: 'index', width: 120},\n              {title:'歌名',key:'songs_name'},\n              {title:'歌手',key:'singer'},\n              {title:'操作', align: 'center', render:this.toolColumnRender}\n            ],\n            createDetailRules: {\n              songs_name: [{required: true, message: '请输入歌名'}],\n              singer: [{required: true, message: '请输入歌手'}],\n              MusicCode: [{required: true, message: '请输入权限码'}]\n            },\n            filter: {\n              // detailParentParamID: this.$route.query.id,\n              // detailParentParamCode: this.$route.query.Code\n              songs_name:this.songs_name,\n              singer:this.singer,\n            },\n            uploadUrl:REQUEST_URL.MusicFiles,\n            uploadUrl1:REQUEST_URL.MusicImage,\n            flag:0,\n          }\n      },\n      mounted () {\n        this.$store.commit('showAdminMenu', true);\n        this.paramsShowHandler();\n      },\n      methods: {\n        //重置表单\n        resetFormHandler(){\n          this.createModal = dataFactory();\n          this.popModal = true;\n        },\n        //图片上传前的钩子\n        handleBeforeUploadNum(com,file){\n          if(!com) return (this.handleError({Msg: '无法获取上传组件', State: -1}, file, this.createModal.uploadList), false);\n          if(com.$props.maxSize && (file.size / 1024 > com.$props.maxSize)) return (this.handleError({Msg: '文件体积过大，无法上传', State: -1}, file, this.createModal.uploadList), false);\n\n          this.createModal.uploadStatus = this.$Message.loading({content:'正在上传文档，请稍等...', duration:0});\n          const checkNum = this.createModal.uploadList.length;\n          if(checkNum) this.$refs.uploadFileRef.clearFiles();\n        },\n        //上传成功钩子\n        handleSuccess(res,file,fileList) {\n          console.log(file);\n          if(res.State != 1){\n\n            this.handleError(res, file, fileList);\n            return fileList.splice(fileList.length - 1 , 1);\n          }\n\n          this.createModal.uploadStatus();\n          this.createModal.uploadStatus = null;\n\n          if(res.State != 1){\n            this.handleError(res, file, fileList);\n            return fileList.splice(fileList.length - 1 , 1);\n          }\n          let form = this.createModal;\n          if (this.flag==1){\n            console.log('mp3');\n            // form.songs_name =file.response.PostContent.name;\n            form.song_file_url=file.response.PostContent.Address;\n          }else {\n            console.log('fdf');\n            // form.songs_name =file.response.PostContent.name;\n            form.song_image_url=file.response.PostContent.Address;\n          }\n\n        },\n        //上传文档错误钩子\n        handleFormatError(file,fileList) {\n          this.createModal.uploadStatus();\n          this.createModal.uploadStatus = null;\n          this.$Message.warning('文件格式错误，请重新上传');\n        },\n        //上传失败钩子\n        handleError(error,file,fileList) {\n          this.createModal.uploadStatus();\n          this.createModal.uploadStatus = null;\n          this.$Message.warning(error && error.Msg || '文件上传失败');\n        },\n        //上传文档大于15M钩子\n        handleMaxSize(file) {\n          this.createModal.uploadStatus();\n          this.createModal.uploadStatus = null;\n          this.$Message.warning('超出文件大小限制，文档不能超过 15M');\n        },\n        //操作列渲染\n        toolColumnRender(h, params) {\n          return h('div', [\n            h('Button',{\n              props:{type:'text'},\n              domProps:{innerText: '编辑'},\n              on:{click: e => {\n                  this.createModal = dataFactory({\n                    songs_name: params.row.songs_name,\n                    singer:params.row.singer,\n                    MusicCode: params.row.MusicCode,\n                    MusicParentParam: params.row.detailParentParam,\n                    MusicParentParamID: this.$route.query.id,\n                    MusicParentParamCode: this.$route.query.Code,\n                    edit: true,\n                    songs_id: params.row.songs_id\n                  })\n                  this.paramsModal = true;\n                  e.stopPropagation();\n                  e.stopPropagation();\n                }\n              }\n            }),\n            h('Button',{\n              props:{type:'text'},\n              domProps:{innerText: '删除'},\n              on:{click: e => {\n                  this.deleteDetailHandler(params.row.songs_id)\n                  e.stopPropagation();\n                }\n              }\n            })\n          ]);\n        },\n        //根据参数权限码显示页面\n        paramsShowHandler(){\n          let _filter = objectCopy(this.filter);\n          for (let i in _filter) {\n            if (!_filter[i]) delete _filter[i]\n          }\n          Action.MusicGetList({\n            PostContent: {\n              filter: _filter\n            }\n          })\n            .then(res => {\n              this.tableData = res;\n              console.log(this.tableData);\n            })\n            .catch(err => {\n              this.$Message.error(err);\n            })\n        },\n        //添加参数详情\n        addDetailHandler(){\n          // this.createDetailForm.detailParentParamID = this.$route.query.id;\n          // this.createDetailForm.detailParentParamCode = this.$route.query.Code;\n          // this.createDetailForm.detailParentParam = this.$route.query.paramsName;\n\n          Action.MusicCreate({\n            PostContent: this.createModal\n          })\n            .then(res => {\n              console.log(this.createModal);\n              this.paramsModal = false;\n              this.paramsShowHandler();\n            })\n            .catch(err => {\n              console.log(\"ww111\");\n              this.$Message.error(err);\n            })\n        },\n        //更新参数详情\n        updateDetailHandler(){\n          Action.MusicUpdate({\n            PostContent: this.createModal\n          })\n            .then(res => {\n              this.paramsModal = false;\n              this.paramsShowHandler();\n            })\n            .catch(err => {\n              this.$Message.error(err);\n            })\n        },\n        //删除参数详情\n        deleteDetailHandler(ID){\n          if (!ID) return this.$Message.warning('参数ID为空，无法删除！！！');\n          const modal = this.$Modal.confirm({\n            title: '操作确认'\n            ,icon: 'warning'\n            ,content: '是否删除此参数'\n            ,okText: '确定'\n            ,showCancel: true\n            ,loading: true\n            ,onOk: () => {\n              //发起删除参数请求\n              Action.musicDelete({\n                PostContent: {\n                  songs_id: ID\n                }\n              }).then(result => {\n                this.$Message.success('成功删除参数！！！');\n                this.$Modal.remove()\n                this.paramsShowHandler();\n              })\n                .catch(err => {\n                  this.$Modal.remove()\n                  this.$Message.error(err);\n                });\n            }\n          });\n        }\n      }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/adminDetailPage/addMusic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sub-navigation-frame',{attrs:{\"title\":_vm.$route.query.paramsName,\"breadcrumb\":_vm.breadcrumbs}},[_c('div',{style:({textAlign:'right',marginTop:'-2.5rem'}),attrs:{\"slot\":\"navigation\"},slot:\"navigation\"},[_c('Button',{on:{\"click\":function($event){return _vm.$router.push({name: 'Index'})}}},[_vm._v(\"返回主站\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"sub-page-container\",style:({'margin-top': '.5rem','padding-top':'1rem'}),attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"8\"}},[_c('div',{style:({marginBottom: '.7rem'})},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.paramsModal = true}}},[_c('Icon',{attrs:{\"type\":\"md-add\"}}),_vm._v(\"添加音乐\")],1)],1)])],1),_vm._v(\" \"),_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.tableData}}),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":'编辑' + _vm.$route.query.paramsName,\"width\":\"600\"},on:{\"on-visible-change\":function($event){return _vm.$refs.createForm.resetFields()}},model:{value:(_vm.paramsModal),callback:function ($$v) {_vm.paramsModal=$$v},expression:\"paramsModal\"}},[_c('div',[_c('Form',{ref:\"createForm\",attrs:{\"model\":_vm.createModal,\"rules\":_vm.createDetailRules}},[_c('Row',[_c('Col',{attrs:{\"span\":\"24\"}},[_c('FormItem',{staticClass:\"item-box\",attrs:{\"label\":\"歌曲名称：\",\"prop\":\"songs_name\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入歌名\"},model:{value:(_vm.createModal.songs_name),callback:function ($$v) {_vm.$set(_vm.createModal, \"songs_name\", $$v)},expression:\"createModal.songs_name\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"24\"}},[_c('FormItem',{staticClass:\"item-box\",attrs:{\"label\":\"歌手：\",\"prop\":\"singer\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入歌手\"},model:{value:(_vm.createModal.singer),callback:function ($$v) {_vm.$set(_vm.createModal, \"singer\", $$v)},expression:\"createModal.singer\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"24\"}},[_c('FormItem',{staticClass:\"item-box\",attrs:{\"label\":\"歌曲：\"}},[_c('Upload',{ref:\"uploadmusic\",style:({display: 'inline-block'}),attrs:{\"action\":_vm.uploadUrl,\"format\":['mp3'],\"max-size\":100000,\"before-upload\":function (file) { return _vm.handleBeforeUploadNum(_vm.$refs['uploadmusic'],file); },\"on-success\":_vm.handleSuccess,\"on-format-error\":_vm.handleFormatError,\"on-error\":_vm.handleError,\"on-exceeded-size\":_vm.handleMaxSize,\"show-upload-list\":true,\"paste\":\"\"}},[_c('Button',{attrs:{\"icon\":\"ios-cloud-upload-outline\"},on:{\"click\":function($event){_vm.flag=1}}},[_vm._v(\"上传歌曲\")])],1)],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"24\"}},[_c('FormItem',{staticClass:\"item-box\",attrs:{\"label\":\"配图：\",\"prop\":\"ContractTemplateName\"}},[_c('Upload',{ref:\"uploadimage\",style:({display: 'inline-block'}),attrs:{\"action\":_vm.uploadUrl1,\"format\":['jpg','png','jpeg','mp3'],\"max-size\":100000,\"before-upload\":function (file) { return _vm.handleBeforeUploadNum(_vm.$refs['uploadimage'],file); },\"on-success\":_vm.handleSuccess,\"on-format-error\":_vm.handleFormatError,\"on-error\":_vm.handleError,\"on-exceeded-size\":_vm.handleMaxSize,\"show-upload-list\":true,\"paste\":\"\"}},[_c('Button',{attrs:{\"icon\":\"ios-cloud-upload-outline\"},on:{\"click\":function($event){_vm.flag=0}}},[_vm._v(\"上传配图\")])],1)],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"24\"}},[_c('FormItem',{staticClass:\"item-box\",attrs:{\"label\":\"权限码：\",\"prop\":\"MusicCode\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入权限码\"},model:{value:(_vm.createModal.MusicCode),callback:function ($$v) {_vm.$set(_vm.createModal, \"MusicCode\", $$v)},expression:\"createModal.MusicCode\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.createModal.edit ? _vm.updateDetailHandler() : _vm.addDetailHandler()}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":function($event){_vm.paramsModal=false}}},[_vm._v(\"取消\")])],1)])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3000c098\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./node_modules/_iview-loader@1.3.0@iview-loader??ref--0-1!./src/views/adminDetailPage/addMusic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3000c098\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!../../../node_modules/_iview-loader@1.3.0@iview-loader/index.js??ref--0-1!./addMusic.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!../../../node_modules/_iview-loader@1.3.0@iview-loader/index.js??ref--0-1!./addMusic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!../../../node_modules/_iview-loader@1.3.0@iview-loader/index.js??ref--0-1!./addMusic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3000c098\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!../../../node_modules/_iview-loader@1.3.0@iview-loader/index.js??ref--0-1!./addMusic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3000c098\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/adminDetailPage/addMusic.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}