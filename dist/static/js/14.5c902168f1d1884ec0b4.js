webpackJsonp([14],{"05ec":function(t,e){},BS4O:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("C7Kb"),a=s("+ASq"),n={name:"musicIndex",components:{SubNavigationFrame:i.a},data:function(){return{breadcrumbs:[{title:"我的音乐"},{title:this.$route.meta.title}],tableData:[{}],value:"",active:!1,createModal:t||{MusicCode:"",songs_name:"df",singer:"f",songs_id:"",song_file_url:"",song_image_url:"",songs_file_id:"",uploadStatus:null,uploadList:[],ShowOnIndex:!1,edit:!1},minutes:"00",seconds:"00",currentmin:"00",currentsec:"00",de:"",index:0,myVid:null,icon:"ios-play-outline"};var t},mounted:function(){},methods:{nextTick:function(t){var e=this;this.$nextTick(function(){var s=t/100*e.myVid.duration;e.myVid.currentTime=s})},before:function(){var t=this;this.active=!0,this.icon="ios-pause",this.index--,-1==this.index&&(this.index=this.tableData.length-1),this.$store.state.musicurl=this.tableData[this.index].song_file_url,this.$store.state.songs=this.tableData[this.index].songs_name,this.$store.state.singer=this.tableData[this.index].singer,this.myVid.load(),setTimeout(function(){t.myVid.play()},100)},next:function(){var t=this;this.active=!0,this.icon="ios-pause",this.index++,this.index==this.tableData.length&&(this.index=0),this.$store.state.musicurl=this.tableData[this.index].song_file_url,this.$store.state.songs=this.tableData[this.index].songs_name,this.$store.state.singer=this.tableData[this.index].singer,this.myVid.load(),setTimeout(function(){t.myVid.play()},100)},showtime:function(){var t=this;return this.myVid.ontimeupdate=function(){var e=t.myVid.currentTime;t.$store.state.currentmin=parseInt(e/60),t.$store.state.currentsec=parseInt(e%60),t.$store.state.currentmin=t.$store.state.currentmin<10?"0"+t.$store.state.currentmin:t.$store.state.currentmin,t.$store.state.currentsec=t.$store.state.currentsec<10?"0"+t.$store.state.currentsec:t.$store.state.currentsec;var s=t.myVid.duration;t.$store.state.minutes=parseInt(s/60,10),t.$store.state.seconds=parseInt(s%60),t.$store.state.minutes=t.$store.state.minutes<10?"0"+t.$store.state.minutes:t.$store.state.minutes,t.$store.state.seconds=t.$store.state.seconds<10?"0"+t.$store.state.seconds:t.$store.state.seconds,t.$store.state.value4=Math.floor(e/(s/100)),e===s&&(t.active=!0,t.icon="ios-pause",t.index++,t.index==t.tableData.length&&(t.index=0),t.$store.state.musicurl=t.tableData[t.index].song_file_url,t.$store.state.songs=t.tableData[t.index].songs_name,t.$store.state.singer=t.tableData[t.index].singer,t.myVid.load(),setTimeout(function(){t.myVid.play()},200))}},rotate:function(){this.$refs.ad.play(),0==this.active?(this.active=!0,this.icon="ios-pause",this.myVid.play()):(this.active=!1,this.icon="ios-play-outline",this.myVid.pause())},paramsShowHandler:function(){var t=this;a.a.musicGetList({}).then(function(e){t.tableData=e.map(function(t){return t.song_image_url=""+REQUEST_URL.IndexImageDownload+t.song_image_url,t.song_file_url=""+REQUEST_URL.IndexImageDownload+t.song_file_url,t}),t.$store.state.musicurl=t.tableData[t.index].song_file_url}).catch(function(e){console.log(e),t.$Message.error(e)})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("SubNavigationFrame",{attrs:{title:t.$route.meta.title,breadcrumb:t.breadcrumbs}},[s("div",{staticClass:"article-category-page-container",attrs:{slot:"content"},slot:"content"},[s("Tabs",[s("TabPane",{attrs:{label:"播放器"}},[s("div",{staticClass:"bg",class:{rotatey:t.active}},[s("img",{attrs:{src:t.$store.state.song_image_url,alt:""}})]),t._v(" "),s("div",{staticClass:"s1"},[s("h1",[t._v(t._s(t.$store.state.songs))]),t._v(" "),s("h4",[t._v(t._s(t.$store.state.singer))]),t._v(" "),s("ButtonGroup",{staticClass:"btn",attrs:{size:"large"}},[s("Button",{staticClass:"back",attrs:{type:"primary",icon:"ios-skip-backward"}}),t._v(" "),s("Button",{staticClass:"back",attrs:{type:"primary",icon:t.icon}}),t._v(" "),s("Button",{staticClass:"back",attrs:{type:"primary",icon:"ios-skip-forward"}})],1),t._v(" "),s("audio",{ref:"ad",attrs:{id:"ad",src:t.$store.state.musicurl}}),t._v(" "),s("h6",[t._v(t._s(t.$store.state.currentmin+":"+t.$store.state.currentsec)+"/"+t._s(t.$store.state.minutes+":"+t.$store.state.seconds))]),t._v(" "),s("Slider",{staticClass:"slider",attrs:{step:1},on:{"on-change":t.nextTick},model:{value:t.$store.state.value4,callback:function(e){t.$set(t.$store.state,"value4",e)},expression:"$store.state.value4"}})],1)]),t._v(" "),s("TabPane",{attrs:{label:"发现音乐"}},[s("Input",{staticStyle:{width:"300px"},attrs:{icon:"ios-search",placeholder:"音乐/视频/电台/用户"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),s("List",[s("ListItem",[s("ListItemMeta",{attrs:{avatar:"https://dev-file.iviewui.com/userinfoPDvn9gKWYihR24SpgC319vXY8qniCqj4/avatar",title:"This is title",description:"This is description, this is description."}})],1)],1)],1),t._v(" "),s("TabPane",{attrs:{label:"我的收藏"}},[s("List",[s("ListItem",[s("ListItemMeta",{attrs:{avatar:"https://dev-file.iviewui.com/userinfoPDvn9gKWYihR24SpgC319vXY8qniCqj4/avatar",title:"This is title",description:"This is description, this is description."}})],1)],1)],1)],1)],1)])},staticRenderFns:[]};var o=s("C7Lr")(n,r,!1,function(t){s("05ec")},"data-v-2662b29c",null);e.default=o.exports}});
//# sourceMappingURL=14.5c902168f1d1884ec0b4.js.map